–û—Ç–ª–∏—á–Ω–æ! üöÄ –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ **–æ–¥–Ω–æ–π –∏–∑ —Å–∞–º—ã—Ö –º–æ—â–Ω—ã—Ö —Ñ–∏—á Backstage** ‚Äî **Software Templates**, —Å –ø–æ–º–æ—â—å—é –∫–æ—Ç–æ—Ä—ã—Ö —Ç—ã —Å–æ–∑–¥–∞—à—å "–≤–æ–ª—à–µ–±–Ω—É—é –∫–Ω–æ–ø–∫—É" –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–æ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤, –±–∏–±–ª–∏–æ—Ç–µ–∫, —Å–∫—Ä–∏–ø—Ç–æ–≤ –∏ —á–µ–≥–æ —É–≥–æ–¥–Ω–æ –ø–æ —à–∞–±–ª–æ–Ω—É.

---

## üìö –ß—Ç–æ —Ç–∞–∫–æ–µ Software Templates?

–≠—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º, —Å –ø–æ–º–æ—â—å—é –∫–æ—Ç–æ—Ä–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ—Ä—Ç–∞–ª–∞ –º–æ–≥—É—Ç:

* –í—ã–±—Ä–∞—Ç—å —à–∞–±–ª–æ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ù–æ–≤—ã–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å")
* –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–æ—Ä–º—É (–Ω–∞–∑–≤–∞–Ω–∏–µ, —è–∑—ã–∫, –∞–≤—Ç–æ—Ä—ã, –∏ —Ç.–¥.)
* –ü–æ–ª—É—á–∏—Ç—å **–≥–æ—Ç–æ–≤—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å –∫–æ–¥–æ–º** –∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º –≤ –∫–∞—Ç–∞–ª–æ–≥–µ Backstage

–¢—ã, –∫–∞–∫ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞-–∏–Ω–∂–µ–Ω–µ—Ä, **—Å–æ–∑–¥–∞—ë—à—å —Ç–∞–∫–∏–µ —à–∞–±–ª–æ–Ω—ã** (–Ω–∞ YAML + Skeleton –ø—Ä–æ–µ–∫—Ç–∞), –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏–º–∏ –ø–æ–ª—å–∑—É—é—Ç—Å—è.

---

## üî® –ß—Ç–æ –º—ã —Å–¥–µ–ª–∞–µ–º:

| –®–∞–≥ | –ß—Ç–æ –±—É–¥–µ–º –¥–µ–ª–∞—Ç—å                           |
| --- | ------------------------------------------ |
| 1Ô∏è‚É£ | –°–æ–∑–¥–∞–¥–∏–º –ø—Ä–æ—Å—Ç–æ–π —à–∞–±–ª–æ–Ω –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞       |
| 2Ô∏è‚É£ | –î–æ–±–∞–≤–∏–º `template.yaml` –∏ skeleton-–∫–æ–¥     |
| 3Ô∏è‚É£ | –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º —à–∞–±–ª–æ–Ω –≤ Backstage          |
| 4Ô∏è‚É£ | –°–≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–µ—Ä–≤–∏—Å –∏–∑ —à–∞–±–ª–æ–Ω–∞              |
| 5Ô∏è‚É£ | –ü—Ä–æ–≤–µ—Ä–∏–º, —á—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ—è–≤–∏–ª—Å—è –≤ Catalog |

---

## üì¶ 1. –°–æ–∑–¥–∞–π —à–∞–±–ª–æ–Ω –≤ GitHub-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

–°–æ–∑–¥–∞–π –Ω–æ–≤—É—é –ø–∞–ø–∫—É –≤ —Å–≤–æ—ë–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ `backstage`, –Ω–∞–ø—Ä–∏–º–µ—Ä:

```
templates/simple-template/
‚îú‚îÄ‚îÄ template.yaml
‚îú‚îÄ‚îÄ skeleton/
‚îÇ   ‚îú‚îÄ‚îÄ README.md
‚îÇ   ‚îî‚îÄ‚îÄ catalog-info.yaml
```

---

### üìÑ `template.yaml` ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞

```yaml
apiVersion: scaffolder.backstage.io/v1beta3
kind: Template
metadata:
  name: simple-template
  title: –®–∞–±–ª–æ–Ω –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞
  description: –ü—Ä–æ—Å—Ç–æ–π —à–∞–±–ª–æ–Ω —Å–µ—Ä–≤–∏—Å–∞ —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π
spec:
  owner: user:default/agat
  type: service

  parameters:
    - title: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
      required:
        - name
      properties:
        name:
          type: string
          title: –ù–∞–∑–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞
          description: –ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

  steps:
    - id: fetch
      name: –ü–æ–ª—É—á–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞
      action: fetch:template
      input:
        url: ./skeleton
        values:
          name: ${{ parameters.name }}

    - id: publish
      name: –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ GitHub
      action: publish:github
      input:
        repoUrl: github.com?repo=${{ parameters.name }}&owner=agat-khafizov
        title: ${{ parameters.name }}
        description: –°–µ—Ä–≤–∏—Å, —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —á–µ—Ä–µ–∑ Backstage
        visibility: public

    - id: register
      name: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ Catalog
      action: catalog:register
      input:
        repoContentsUrl: ${{ steps['publish'].output.repoContentsUrl }}
        catalogInfoPath: /catalog-info.yaml
```

---

### üìÇ `skeleton/README.md`

```md
# ${{ values.name }}

–≠—Ç–æ —à–∞–±–ª–æ–Ω –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞, —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–∑ Backstage.
```

---

### üìÇ `skeleton/catalog-info.yaml`

```yaml
apiVersion: backstage.io/v1alpha1
kind: Component
metadata:
  name: ${{ values.name }}
  annotations:
    backstage.io/techdocs-ref: dir:.
spec:
  type: service
  lifecycle: experimental
  owner: user:default/agat
```

---

## üß∑ 2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π —à–∞–±–ª–æ–Ω –≤ Backstage

–ü–µ—Ä–µ–π–¥–∏ –≤ **Create ‚Üí Register existing component ‚Üí URL to template.yaml**
–í–≤–µ–¥–∏:

```
https://github.com/agat-khafizov/backstage/blob/main/templates/simple-template/template.yaml
```

–ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Ç—ã —É–≤–∏–¥–∏—à—å —ç—Ç–æ—Ç —à–∞–±–ª–æ–Ω –≤ Create ‚Üí **–®–∞–±–ª–æ–Ω –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞**

---

## üß™ 3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞

1. –ü–µ—Ä–µ–π–¥–∏ –≤ **Create**
2. –í—ã–±–µ—Ä–∏ —à–∞–±–ª–æ–Ω ‚Üí **–®–∞–±–ª–æ–Ω –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞**
3. –í–≤–µ–¥–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `hello-world`)
4. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏ —Å–æ–∑–¥–∞–Ω–∏–µ
5. –ü—Ä–æ–≤–µ—Ä—å –≤ GitHub ‚Äî –ø–æ—è–≤–∏–ª—Å—è –Ω–æ–≤—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π!
6. –ü—Ä–æ–≤–µ—Ä—å –≤ Backstage ‚Üí Catalog ‚Üí –ø–æ—è–≤–∏–ª—Å—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç!

---

## üß† –ß—Ç–æ —Ç—ã –æ—Å–≤–æ–∏—à—å:

* –ú–µ—Ö–∞–Ω–∏–∑–º self-service –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
* –ü—Ä–∏–≤—è–∑–∫—É –∫ GitHub
* –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
* –û—Å–Ω–æ–≤—É –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è **developer-–ø–æ—Ä—Ç–∞–ª–æ–≤** –∏ "–≤—Å—ë –∏–∑ –∫–æ—Ä–æ–±–∫–∏"


–û—à–∏–±–∫–∏ –≤ —Ö–æ–¥–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
1) When using Node.js version 20 or newer, the scaffolder backend plugin requires that it be started with the --no-node-snapshot option. 
        Please make sure that you have NODE_OPTIONS=--no-node-snapshot in your environment.


When using Node.js version 20 or newer, the scaffolder backend plugin requires that it be started with the --no-node-snapshot option. 
        Please make sure that you have NODE_OPTIONS=--no-node-snapshot in your environment.

1 - —Ä–µ—à–µ–Ω–∏–µ)
echo 'export NODE_OPTIONS=--no-node-snapshot' >> ~/.bashrc
source ~/.bashrc
–õ–∏–±–æ –≤ –ø–æ–¥–∏–∫–µ –ø—Ä–æ—Å—Ç–æ –∫–∞–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è —É–∫–∞–∑—ã–≤–∞—Ç—å.